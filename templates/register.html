<!DOCTYPE html>
<link rel="stylesheet" href="/static/main.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<body>


<h1>Tee käyttäjä</h1>
</p>
<form action="/register" method="post" onsubmit="return check(this)">
Nimi:
<input type= "text" name="username">
<p>
Anna salasana:
<input type="text" name="password1">
<p>
Anna salasana uudestaan:
<input type="text" name="password2">
</p>
Rooli:
<input type="radio" name="role" value="0"> Tavan tallaaja
<input type="radio" name="role" value="1"> Admin
<input id="pressingbutton" type="submit" value="Luo käyttäjä">
<input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

{% if error_message %}
<p style="color: rgb(0, 0, 0);">{{ error_message }}</p>
{% endif %}
</form>

<div class="linktext">
    <a href="/">  <h3>Etusivulle</h3></a>
</div>

    <script>
        function check(form) {
            if (form.password1.value != form.password2.value) {
                alert("salasanat eivät ole samat");
                return false;
            }
    
            if (form.username.value.length < 2) {
                alert("käyttäjätunnuksen pitää olla yli 2 merkkiä");
                return false;
            }
    
            if (form.username.value.length > 20) {
                alert("käyttäjätunnuksen pitää olla alle 20 merkkiä");
                return false;
            }

            if (form.password1.value == "") {
                alert("salasana ei voi olla tyhjänä");
                return false;
            }

            return true;
        }
    </script>

</body>
